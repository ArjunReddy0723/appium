#!/bin/sh
sed -i "/alias hackpium/d" ~/.bashrc
echo "\033[1;32m Installing Dependencies.....\033[0m "
echo "\033[1;32m Installing fbsiimctl.....\033[0m "
brew tap facebook/fb
brew install fbsimctl --HEAD
echo "\033[1;32m Installing mocha.....\033[0m "
npm install -g mocha
echo "\033[1;32m Installing gulp.....\033[0m "
npm install -g gulp
echo "\033[1;32m Installing gulp-cli.....\033[0m "
npm install -g gulp-cli
echo "\033[1;32m Installing appium.....\033[0m "
npm install


gulp transpile

cd node_modules/appium-xcuitest-driver && gulp transpile && cd ../..
cd node_modules/appium-ios-simulator && gulp transpile && cd ../..
cd node_modules/node-simctl && gulp transpile && cd ../..

papium="$(pwd)"
printf "\nalias hackpium='node ${papium}'" >> $HOME/.bashrc
source ~/.bashrc



echo "\033[1;32m Finished....\033[0m "
echo "\033[1;32m How to run appium '$ hackpium -p (custom port)'\033[0m "